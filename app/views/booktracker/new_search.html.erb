<h2>Search Results</h2>

<div>
  <% if flash[:message] %>
    <p class="alert alert-warning"><%= flash[:message] %></p>
  <% elsif @google_books_instances.any? %>
    <ul>
      <% @google_books_instances.each do |book| %>
        <li>
          <h3><%= book["volumeInfo"]["title"] %></h3>
          <img src="<%= book["volumeInfo"]["imageLinks"]["thumbnail"] %>" alt="<%= book["volumeInfo"]["title"] %> thumbnail" />
          <p><strong>Author:</strong> <%= book["volumeInfo"]["authors"]&.join(", ") %></p>
          <p><strong>Genre:</strong> <%= book["volumeInfo"]["categories"]&.join(", ") %></p>
          <p><strong>Description:</strong> <%= truncate(book["volumeInfo"]["description"], length: 200) %></p>
          <%= button_to "Add to Books List", create_from_api_path, method: :post, params: {
        google_id: book["id"],
        google_books_instance: book
      }, class: "btn btn-success" %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No search results found. Please try a different search.</p>
  <% end %>
</div>